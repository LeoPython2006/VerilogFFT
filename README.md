# VerilogFFT

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ FFT (Fast Fourier Transform) –Ω–∞ Verilog –¥–ª—è FPGA, –≤–∫–ª—é—á–∞—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã —Å overlap-add –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.

## üöÄ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
VerilogFFT/
‚îú‚îÄ‚îÄ r22sdf/                    # –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç - Radix-2¬≤ SDF FFT
‚îÇ   ‚îú‚îÄ‚îÄ verilog/              # HDL –∏—Å—Ö–æ–¥–Ω–∏–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FFT64.v          # 64-—Ç–æ—á–µ—á–Ω—ã–π FFT
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FFT128.v         # 128-—Ç–æ—á–µ—á–Ω—ã–π FFT  
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FFT1024_32B.v    # 1024-—Ç–æ—á–µ—á–Ω—ã–π FFT (32-–±–∏—Ç)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OverlapAdd128.v  # Overlap-Add –±—É—Ñ–µ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TopOverlapFFT128.v # Top-level –º–æ–¥—É–ª—å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...              # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ quartus/             # –ü—Ä–æ–µ–∫—Ç—ã Quartus Prime
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fft_64/         # –ü—Ä–æ–µ–∫—Ç –¥–ª—è FFT64
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fft_128/        # –ü—Ä–æ–µ–∫—Ç –¥–ª—è FFT128
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ fft_1024_32b/   # –ü—Ä–æ–µ–∫—Ç –¥–ª—è FFT1024_32B
‚îÇ   ‚îú‚îÄ‚îÄ sim/                # –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ç–µ–Ω–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ test_cocotb.py      # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ README_testing.md   # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
‚îú‚îÄ‚îÄ FFT/                    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ FFT —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ FFT-R22SDF/            # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è R22SDF
‚îú‚îÄ‚îÄ FFT256/                # 256-—Ç–æ—á–µ—á–Ω—ã–π FFT
‚îî‚îÄ‚îÄ README.md              # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üìã –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

### üéØ –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç: R22SDF
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `r22sdf/`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- **Radix-2¬≤ Single-Path Delay Feedback (SDF)** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤:** 64, 128, 1024 —Ç–æ—á–∫–∏
- **Fixed-point –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞** (Q1.15 —Ñ–æ—Ä–º–∞—Ç)
- **Overlap-Add** —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª–∏–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** –Ω–∞ cocotb —Å RMS –∞–Ω–∞–ª–∏–∑–æ–º
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Quartus Prime** –¥–ª—è FPGA Max 10

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- **FFT128:** ~193 —Ç–∞–∫—Ç–∞ –∑–∞–¥–µ—Ä–∂–∫–∏, ~21% LUT –Ω–∞ Max 10
- **Overlap-Add:** 50% –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ (–æ–∫–Ω–æ 128, —Å–¥–≤–∏–≥ 64)
- **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:** 16-–±–∏—Ç fixed-point (Q1.15)

### üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

#### FFT/ 
–ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è FFT —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏.

#### FFT-R22SDF/
–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Radix-2¬≤ SDF –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

#### FFT256/
–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è 256-—Ç–æ—á–µ—á–Ω–æ–≥–æ FFT.

## üõ† –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –°–∏–Ω—Ç–µ–∑ –≤ Quartus Prime

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ –ø–∞–ø–∫–µ `r22sdf/quartus/fft_128/`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ top-level entity: `TopOverlapFFT128`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–ø–∏–ª—è—Ü–∏—é: `Processing ‚Üí Start Compilation`

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å cocotb

```bash
cd r22sdf/
pip install cocotb numpy matplotlib
sudo apt-get install iverilog
python test_cocotb.py
```

## üìä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ

–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã –≤–∫–ª—é—á–∞—é—Ç:
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** —Å –∏–∑–º–µ—Ä–µ–Ω–∏–µ–º RMS –æ—à–∏–±–∫–∏
- **–¢–µ—Å—Ç—ã –∏–º–ø—É–ª—å—Å–Ω–æ–≥–æ –æ—Ç–∫–ª–∏–∫–∞**
- **–¢–µ—Å—Ç—ã –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è —à—É–º–∞**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤**
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ

## üéµ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

- **–¶–∏—Ñ—Ä–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ**
- **–†–µ–≤–µ—Ä–±–µ—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**
- **–°–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑**
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤ —á–∞—Å—Ç–æ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏**
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–º–ø—É–ª—å—Å–Ω–æ–≥–æ –æ—Ç–∫–ª–∏–∫–∞ (IR)**

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### R22SDF (–æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç)
- **–ó–∞–¥–µ—Ä–∂–∫–∞:** ~2.7 –º—Å (128 —Å—ç–º–ø–ª–æ–≤ –ø—Ä–∏ 48 –∫–ì—Ü)
- **RMS –æ—à–∏–±–∫–∞:** < 1.5 LSB
- **THD+N:** –ª—É—á—à–µ -90 –¥–ë
- **–†–∞–±–æ—á–∞—è —á–∞—Å—Ç–æ—Ç–∞:** 80 –ú–ì—Ü

## üîó –°—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è R22SDF](r22sdf/README.md)
- [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é](r22sdf/README_testing.md)
- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å—Ç–∞—Ç—å—è](—Å—Å—ã–ª–∫–∞_–Ω–∞_—Å—Ç–∞—Ç—å—é)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

BSD-3 License - —Å–º. —Ñ–∞–π–ª [LICENSE](r22sdf/LICENSE)

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

Leo Vesin, –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –ò–Ω–Ω–æ–ø–æ–ª–∏—Å

---

**–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è –≤–∞—à–∏—Ö –∑–∞–¥–∞—á –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–∞–ø–∫–µ!** 
