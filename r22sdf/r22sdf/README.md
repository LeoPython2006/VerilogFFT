# R22SDF - Radix-2² Single-Path Delay Feedback FFT

Высокопроизводительная реализация FFT на Verilog с поддержкой overlap-add для цифровой обработки сигналов на FPGA.

## Особенности

- **Radix-2² Single-Path Delay Feedback (SDF)** архитектура
- **Поддержка размеров**: 64, 128, 1024 точки (с 32-битной версией)
- **Fixed-point арифметика** (Q1.15 формат)
- **Overlap-Add** реализация для обработки длинных сигналов
- **BSD-3 лицензия**
- **Совместимость с Quartus Prime** для FPGA Max 10

## Структура проекта

```
r22sdf/
├── verilog/           # HDL исходники
│   ├── FFT64.v       # 64-точечный FFT
│   ├── FFT128.v      # 128-точечный FFT
│   ├── FFT1024_32B.v # 1024-точечный FFT (32-бит)
│   ├── OverlapAdd128.v # Overlap-Add буфер
│   ├── TopOverlapFFT128.v # Top-level модуль
│   └── ...           # Вспомогательные модули
├── quartus/          # Проекты Quartus Prime
│   ├── fft_64/       # Проект для FFT64
│   ├── fft_128/      # Проект для FFT128
│   └── fft_1024_32b/ # Проект для FFT1024_32B
├── sim/              # Тестовые стенды
├── test_cocotb.py    # Тесты на cocotb
└── README_testing.md # Инструкции по тестированию
```

## Быстрый старт

### Синтез в Quartus Prime

1. Откройте проект в папке `quartus/fft_128/`
2. Убедитесь, что top-level entity: `TopOverlapFFT128`
3. Запустите компиляцию: `Processing → Start Compilation`

### Тестирование с cocotb

```bash
# Установка зависимостей
pip install cocotb numpy matplotlib
sudo apt-get install iverilog

# Запуск тестов
python test_cocotb.py

# Просмотр результатов
ls test_results/
```

## Технические характеристики

### FFT128 (основной модуль)
- **Размер**: 128 точек
- **Задержка**: ~193 такта
- **Ресурсы**: ~21% LUT на Max 10
- **Формат данных**: 16-бит fixed-point (Q1.15)

### Overlap-Add
- **Размер окна**: 128 сэмплов
- **Перекрытие**: 50% (64 сэмпла)
- **Обработка хвоста**: zero-padding
- **Поддержка**: real/imag выход

## Применение

- **Цифровая обработка аудио**
- **Реверберация и пространственная обработка**
- **Спектральный анализ**
- **Фильтрация в частотной области**

## Тестирование

Проект включает автоматизированные тесты с измерением RMS ошибки:

- Тест с синусоидой + шум
- Тест импульсного отклика
- Тест подавления шума
- Автоматическое построение графиков



## Автор

Leo Vesin, Университет Иннополис

